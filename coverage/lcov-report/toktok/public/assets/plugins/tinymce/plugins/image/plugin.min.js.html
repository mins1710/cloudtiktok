
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for toktok/public/assets/plugins/tinymce/plugins/image/plugin.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../../../../index.html">All files</a> / <a href="index.html">toktok/public/assets/plugins/tinymce/plugins/image</a> plugin.min.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/77</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/195</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/37</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >tinymce.PluginManager.add("image",<span class="fstat-no" title="function not covered" >fu</span>nction(a){function <span class="fstat-no" title="function not covered" >b(</span>a,b){function <span class="fstat-no" title="function not covered" >c(</span>a,c){<span class="cstat-no" title="statement not covered" >d.parentNode&amp;&amp;d.parentNode.removeChild(d),b({width:a,height:c})}</span>var d=<span class="cstat-no" title="statement not covered" >document.createElement("img");<span class="cstat-no" title="statement not covered" ></span>d.onload=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >c(Math.max(d.width,d.clientWidth),Math.max(d.height,d.clientHeight))}</span>,d.onerror=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >c()}</span>;v</span>ar e=<span class="cstat-no" title="statement not covered" >d.style;<span class="cstat-no" title="statement not covered" ></span>e.visibility="hidden",e.position="fixed",e.bottom=e.left=0,e.width=e.height="auto",document.body.appendChild(d),d.src=a}</span>function <span class="fstat-no" title="function not covered" >c(</span>a,b,c){function <span class="fstat-no" title="function not covered" >d(</span>a,c){<span class="cstat-no" title="statement not covered" >return c=c||[],tinymce.each(a,<span class="fstat-no" title="function not covered" >fu</span>nction(a){var e=<span class="cstat-no" title="statement not covered" >{text:a.text||a.title};<span class="cstat-no" title="statement not covered" ></span>a.menu?e.menu=d(a.menu):(e.value=a.value,b(e)),c.push(e)}</span>),c}<span class="cstat-no" title="statement not covered" ></span>return d(a,c||[])}</span>function <span class="fstat-no" title="function not covered" >d(</span>b){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(){var c=<span class="cstat-no" title="statement not covered" >a.settings.image_list;<span class="cstat-no" title="statement not covered" ></span>"string"==typeof c?tinymce.util.XHR.send({url:c,success:<span class="fstat-no" title="function not covered" >fu</span>nction(a){<span class="cstat-no" title="statement not covered" >b(tinymce.util.JSON.parse(a))}</span>}):"function"==typeof c?c(b):b(c)}</span>}</span>function <span class="fstat-no" title="function not covered" >e(</span>d){function <span class="fstat-no" title="function not covered" >e(</span>){var a,b,c,d;<span class="cstat-no" title="statement not covered" >a=l.find("#width")[0],b=l.find("#height")[0],a&amp;&amp;b&amp;&amp;(c=a.value(),d=b.value(),l.find("#constrain")[0].checked()&amp;&amp;o&amp;&amp;p&amp;&amp;c&amp;&amp;d&amp;&amp;(o!=c?(d=Math.round(c/o*d),isNaN(d)||b.value(d)):(c=Math.round(d/p*c),isNaN(c)||a.value(c))),o=c,p=d)}</span>function <span class="fstat-no" title="function not covered" >f(</span>){function <span class="fstat-no" title="function not covered" >b(</span>b){function <span class="fstat-no" title="function not covered" >c(</span>){<span class="cstat-no" title="statement not covered" >b.onload=b.onerror=null,a.selection&amp;&amp;(a.selection.select(b),a.nodeChanged())}<span class="cstat-no" title="statement not covered" ></span>b.onload=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >s.width||s.height||!u||t.setAttribs(b,{width:b.clientWidth,height:b.clientHeight}),c()}</span>,b.onerror=c}</span>var c,d;<span class="cstat-no" title="statement not covered" >j(),e(),s=tinymce.extend(s,l.toJSON()),s.alt||(s.alt=""),s.title||(s.title=""),""===s.width&amp;&amp;(s.width=null),""===s.height&amp;&amp;(s.height=null),s.style||(s.style=null),s={src:s.src,alt:s.alt,title:s.title,width:s.width,height:s.height,style:s.style,caption:s.caption,"class":s["class"]},a.undoManager.transact(<span class="fstat-no" title="function not covered" >fu</span>nction(){function <span class="fstat-no" title="function not covered" >e(</span>b){<span class="cstat-no" title="statement not covered" >return a.schema.getTextBlockElements()[b.nodeName]}<span class="cstat-no" title="statement not covered" ></span>if(!s.src)<span class="cstat-no" title="statement not covered" >return void(m&amp;&amp;(t.remove(m),a.focus(),a.nodeChanged()));<span class="cstat-no" title="statement not covered" >i</span></span>f(""===s.title&amp;&amp;(s.title=null),m?t.setAttribs(m,s):(s.id="__mcenew",a.focus(),a.selection.setContent(t.createHTML("img",s)),m=t.get("__mcenew"),t.setAttrib(m,"id",null)),a.editorUpload.uploadImagesAuto(),s.caption===!1&amp;&amp;t.is(m.parentNode,"figure.image")&amp;&amp;(c=m.parentNode,t.insertAfter(m,c),t.remove(c)),s.caption!==!0)<span class="cstat-no" title="statement not covered" >b(m);e</span>lse <span class="cstat-no" title="statement not covered" >if(!t.is(m.parentNode,"figure.image")){<span class="cstat-no" title="statement not covered" >d=m,m=m.cloneNode(!0),c=t.create("figure",{"class":"image"}),c.appendChild(m),c.appendChild(t.create("figcaption",{contentEditable:!0},"Caption")),c.contentEditable=!1;v</span>ar f=<span class="cstat-no" title="statement not covered" >t.getParent(d,e);<span class="cstat-no" title="statement not covered" ></span>f?t.split(f,d,c):t.replace(c,d),a.selection.select(c)}</span>}</span></span>)}</span>function <span class="fstat-no" title="function not covered" >g(</span>a){<span class="cstat-no" title="statement not covered" >return a&amp;&amp;(a=a.replace(/px$/,"")),a}</span>function <span class="fstat-no" title="function not covered" >h(</span>c){var d,e,f,g=<span class="cstat-no" title="statement not covered" >c.meta||{};<span class="cstat-no" title="statement not covered" ></span>q&amp;&amp;q.value(a.convertURL(this.value(),"src")),tinymce.each(g,<span class="fstat-no" title="function not covered" >fu</span>nction(a,b){<span class="cstat-no" title="statement not covered" >l.find("#"+b).value(a)}</span>),g.width||g.height||(d=a.convertURL(this.value(),"src"),e=a.settings.image_prepend_url,f=new RegExp("^(?:[a-z]+:)?//","i"),e&amp;&amp;!f.test(d)&amp;&amp;d.substring(0,e.length)!==e&amp;&amp;(d=e+d),this.value(d),b(a.documentBaseURI.toAbsolute(this.value()),<span class="fstat-no" title="function not covered" >fu</span>nction(a){<span class="cstat-no" title="statement not covered" >a.width&amp;&amp;a.height&amp;&amp;u&amp;&amp;(o=a.width,p=a.height,l.find("#width").value(o),l.find("#height").value(p))}</span>))}</span>function <span class="fstat-no" title="function not covered" >i(</span>a){<span class="cstat-no" title="statement not covered" >if(a.margin){var b=<span class="cstat-no" title="statement not covered" >a.margin.split(" ");<span class="cstat-no" title="statement not covered" ></span>switch(b.length){case 1:<span class="cstat-no" title="statement not covered" >a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[0],a["margin-bottom"]=a["margin-bottom"]||b[0],a["margin-left"]=a["margin-left"]||b[0];<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase 2:<span class="cstat-no" title="statement not covered" >a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[1],a["margin-bottom"]=a["margin-bottom"]||b[0],a["margin-left"]=a["margin-left"]||b[1];<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase 3:<span class="cstat-no" title="statement not covered" >a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[1],a["margin-bottom"]=a["margin-bottom"]||b[2],a["margin-left"]=a["margin-left"]||b[1];<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase 4:<span class="cstat-no" title="statement not covered" >a["margin-top"]=a["margin-top"]||b[0],a["margin-right"]=a["margin-right"]||b[1],a["margin-bottom"]=a["margin-bottom"]||b[2],a["margin-left"]=a["margin-left"]||b[3]}<span class="cstat-no" title="statement not covered" ></span>d</span>elete a.margin}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn a}</span>function <span class="fstat-no" title="function not covered" >j(</span>){function <span class="fstat-no" title="function not covered" >b(</span>a){<span class="cstat-no" title="statement not covered" >return a.length&gt;0&amp;&amp;/^[0-9]+$/.test(a)&amp;&amp;(a+="px"),a}<span class="cstat-no" title="statement not covered" ></span>if(a.settings.image_advtab){var c=<span class="cstat-no" title="statement not covered" >l.toJSON(),</span>d=<span class="cstat-no" title="statement not covered" >t.parseStyle(c.style);<span class="cstat-no" title="statement not covered" ></span>d=i(d),c.vspace&amp;&amp;(d["margin-top"]=d["margin-bottom"]=b(c.vspace)),c.hspace&amp;&amp;(d["margin-left"]=d["margin-right"]=b(c.hspace)),c.border&amp;&amp;(d["border-width"]=b(c.border)),l.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(d))))}</span>}</span>function <span class="fstat-no" title="function not covered" >k(</span>){<span class="cstat-no" title="statement not covered" >if(a.settings.image_advtab){var b=<span class="cstat-no" title="statement not covered" >l.toJSON(),</span>c=<span class="cstat-no" title="statement not covered" >t.parseStyle(b.style);<span class="cstat-no" title="statement not covered" ></span>l.find("#vspace").value(""),l.find("#hspace").value(""),c=i(c),(c["margin-top"]&amp;&amp;c["margin-bottom"]||c["margin-right"]&amp;&amp;c["margin-left"])&amp;&amp;(c["margin-top"]===c["margin-bottom"]?l.find("#vspace").value(g(c["margin-top"])):l.find("#vspace").value(""),c["margin-right"]===c["margin-left"]?l.find("#hspace").value(g(c["margin-right"])):l.find("#hspace").value("")),c["border-width"]&amp;&amp;l.find("#border").value(g(c["border-width"])),l.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(c))))}</span>}</span>var l,m,n,o,p,q,r,s=<span class="cstat-no" title="statement not covered" >{},</span>t=<span class="cstat-no" title="statement not covered" >a.dom,</span>u=<span class="cstat-no" title="statement not covered" >a.settings.image_dimensions!==!1;<span class="cstat-no" title="statement not covered" ></span>m=a.selection.getNode(),n=t.getParent(m,"figure.image"),n&amp;&amp;(m=t.select("img",n)[0]),m&amp;&amp;("IMG"!=m.nodeName||m.getAttribute("data-mce-object")||m.getAttribute("data-mce-placeholder"))&amp;&amp;(m=null),m&amp;&amp;(o=t.getAttrib(m,"width"),p=t.getAttrib(m,"height"),s={src:t.getAttrib(m,"src"),alt:t.getAttrib(m,"alt"),title:t.getAttrib(m,"title"),"class":t.getAttrib(m,"class"),width:o,height:p,caption:!!n}),d&amp;&amp;(q={type:"listbox",label:"Image list",values:c(d,<span class="fstat-no" title="function not covered" >fu</span>nction(b){<span class="cstat-no" title="statement not covered" >b.value=a.convertURL(b.value||b.url,"src")}</span>,[{text:"None",value:""}]),value:s.src&amp;&amp;a.convertURL(s.src,"src"),onselect:<span class="fstat-no" title="function not covered" >fu</span>nction(a){var b=<span class="cstat-no" title="statement not covered" >l.find("#alt");<span class="cstat-no" title="statement not covered" ></span>(!b.value()||a.lastControl&amp;&amp;b.value()==a.lastControl.text())&amp;&amp;b.value(a.control.text()),l.find("#src").value(a.control.value()).fire("change")}</span>,onPostRender:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >q=this}</span>}),a.settings.image_class_list&amp;&amp;(r={name:"class",type:"listbox",label:"Class",values:c(a.settings.image_class_list,<span class="fstat-no" title="function not covered" >fu</span>nction(b){<span class="cstat-no" title="statement not covered" >b.value&amp;&amp;(b.textStyle=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return a.formatter.getCssText({inline:"img",classes:[b.value]})}</span>)}</span>)});v</span>ar v=<span class="cstat-no" title="statement not covered" >[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:h},q];<span class="cstat-no" title="statement not covered" ></span>a.settings.image_description!==!1&amp;&amp;v.push({name:"alt",type:"textbox",label:"Image description"}),a.settings.image_title&amp;&amp;v.push({name:"title",type:"textbox",label:"Image Title"}),u&amp;&amp;v.push({type:"container",label:"Dimensions",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),v.push(r),a.settings.image_caption&amp;&amp;tinymce.Env.ceFalse&amp;&amp;v.push({name:"caption",type:"checkbox",label:"Caption"}),a.settings.image_advtab?(m&amp;&amp;(m.style.marginLeft&amp;&amp;m.style.marginRight&amp;&amp;m.style.marginLeft===m.style.marginRight&amp;&amp;(s.hspace=g(m.style.marginLeft)),m.style.marginTop&amp;&amp;m.style.marginBottom&amp;&amp;m.style.marginTop===m.style.marginBottom&amp;&amp;(s.vspace=g(m.style.marginTop)),m.style.borderWidth&amp;&amp;(s.border=g(m.style.borderWidth)),s.style=a.dom.serializeStyle(a.dom.parseStyle(a.dom.getAttrib(m,"style")))),l=a.windowManager.open({title:"Insert/edit image",data:s,bodyType:"tabpanel",body:[{title:"General",type:"form",items:v},{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:k},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:j},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]}],onSubmit:f})):l=a.windowManager.open({title:"Insert/edit image",data:s,body:v,onSubmit:f})}<span class="cstat-no" title="statement not covered" ></span>a.on("preInit",<span class="fstat-no" title="function not covered" >fu</span>nction(){function <span class="fstat-no" title="function not covered" >b(</span>a){var b=<span class="cstat-no" title="statement not covered" >a.attr("class");<span class="cstat-no" title="statement not covered" ></span>return b&amp;&amp;/\bimage\b/.test(b)}</span>function <span class="fstat-no" title="function not covered" >c(</span>a){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(c){function <span class="fstat-no" title="function not covered" >d(</span>b){<span class="cstat-no" title="statement not covered" >b.attr("contenteditable",a?"true":null)}<span class="cstat-no" title="statement not covered" ></span>for(var e,f=<span class="cstat-no" title="statement not covered" >c.length;</span>f--;)<span class="cstat-no" title="statement not covered" >e=c[f],b(e)&amp;&amp;(e.attr("contenteditable",a?"false":null),tinymce.each(e.getAll("figcaption"),d))}</span></span>}<span class="cstat-no" title="statement not covered" ></span>a.parser.addNodeFilter("figure",c(!0)),a.serializer.addNodeFilter("figure",c(!1))}</span>),a.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:d(e),stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),a.addMenuItem("image",{icon:"image",text:"Insert/edit image",onclick:d(e),context:"insert",prependToContext:!0}),a.addCommand("mceImage",d(e))}</span>);</span></pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2024-04-17T07:12:00.429Z
            </div>
        <script src="../../../../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../../../../sorter.js"></script>
        <script src="../../../../../../../block-navigation.js"></script>
    </body>
</html>
    